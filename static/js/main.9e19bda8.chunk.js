(this.webpackJsonpzoombooth=this.webpackJsonpzoombooth||[]).push([[0],{163:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(57),i=n.n(c),o=n(75),u=n(28),s=n(252),l=n(253),d=n(78),j=n(216),b=n(52),f=Object(j.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:b.a.A400},background:{default:"#fff"}}}),h=n(235),O=n(33),m=n(23),p=n.n(m),v=n(30),x=n(86),g=n(87),k=n(137),C=n(136),y=function(e){Object(k.a)(n,e);var t=Object(C.a)(n);function n(e){var r;return Object(x.a)(this,n),(r=t.call(this)).history=e,r}return Object(g.a)(n,[{key:"navigateInternal",value:function(){var e=Object(v.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.replace(window.location.origin,""),n.noHistory?this.history.replace(r):this.history.push(r),e.abrupt("return",!1);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(n(124).a),T=n(243),w=n(244),A=n(98),S=n(245),E=n(18),I=n(2),D=function(){var e=Object(O.d)().instance,t=Object(r.useState)(null),n=Object(E.a)(t,2),a=n[0],c=n[1],i=e.getActiveAccount();return Object(r.useEffect)((function(){c(i?i.name.split(" ")[0]:null)}),[i]),a?Object(I.jsxs)(A.a,{variant:"h6",children:["Welcome, ",a]}):null},R=n(236),M=n(232),B=n(229),z=n(85),N=window.navigator.userAgent,L=N.indexOf("MSIE "),F=N.indexOf("Trident/"),Y=N.indexOf("Edge/"),H=N.indexOf("Firefox"),Z={auth:{clientId:"36bc0775-9527-484c-9c48-2e846090732b",authority:"https://login.microsoftonline.com/9c85420c-07ed-40e7-9c4c-4207556dc906",redirectUri:"",postLogoutRedirectUri:""},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:L>0||F>0||Y>0||H>0},system:{loggerOptions:{loggerCallback:function(e,t,n){if(!n)switch(e){case z.a.Error:return void console.error(t);case z.a.Info:return void console.info(t);case z.a.Verbose:return void console.debug(t);case z.a.Warning:return void console.warn(t);default:return}}}}},V={scopes:["User.Read","Calendars.ReadWrite"]},P="https://graph.microsoft.com/v1.0",U=function(){var e=Object(O.d)().instance,t=Object(r.useState)(null),n=Object(E.a)(t,2),a=n[0],c=n[1],i=Boolean(a);return Object(I.jsxs)("div",{children:[Object(I.jsx)(R.a,{onClick:function(e){return c(e.currentTarget)},color:"inherit",children:"Login"}),Object(I.jsx)(B.a,{id:"menu-appbar",anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:function(){return c(null)},children:Object(I.jsx)(M.a,{onClick:function(){return t="redirect",c(null),void("popup"===t?e.loginPopup(V):"redirect"===t&&e.loginRedirect(V));var t},children:"Sign in"},"loginRedirect")})]})},J=n(242),W=n(128),q=n.n(W),G=n(36),$=n(234),_=n(238),K=n(231),Q=n(241),X=n(223),ee=n(240),te=n(239),ne=n(126),re=n.n(ne),ae=n(127),ce=n.n(ae),ie=function(e){var t=Object(O.d)(),n=t.instance,r=t.accounts,a=e.onClose,c=e.open,i=function(e){n.setActiveAccount(e),e?window.location.reload():n.loginRedirect(Object(G.a)(Object(G.a)({},V),{},{prompt:"login"})),a(e)};return Object(I.jsxs)(te.a,{onClose:a,"aria-labelledby":"simple-dialog-title",open:c,children:[Object(I.jsx)(ee.a,{id:"simple-dialog-title",children:"Set active account"}),Object(I.jsxs)(_.a,{children:[r.map((function(e){return Object(I.jsxs)(K.a,{button:!0,onClick:function(){return i(e)},children:[Object(I.jsx)(Q.a,{children:Object(I.jsx)($.a,{children:Object(I.jsx)(re.a,{})})}),Object(I.jsx)(X.a,{primary:e.name,secondary:e.username})]},e.homeAccountId)})),Object(I.jsxs)(K.a,{autoFocus:!0,button:!0,onClick:function(){return i(null)},children:[Object(I.jsx)(Q.a,{children:Object(I.jsx)($.a,{children:Object(I.jsx)(ce.a,{})})}),Object(I.jsx)(X.a,{primary:"Add account"})]})]})]})},oe=function(){var e=Object(O.d)().instance,t=Object(r.useState)(!1),n=Object(E.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(null),o=Object(E.a)(i,2),u=o[0],s=o[1],l=Boolean(u);return Object(I.jsxs)("div",{children:[Object(I.jsx)(J.a,{onClick:function(e){return s(e.currentTarget)},color:"inherit",children:Object(I.jsx)(q.a,{})}),Object(I.jsxs)(B.a,{id:"menu-appbar",anchorEl:u,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:function(){return s(null)},children:[Object(I.jsx)(M.a,{onClick:function(){return s(null),void c(!0)},children:"Switch Account"},"switchAccount"),Object(I.jsx)(M.a,{onClick:function(){return t="redirect",s(null),void("popup"===t?e.logoutPopup():"redirect"===t&&e.logoutRedirect());var t},children:"Logout"},"logoutRedirect")]}),Object(I.jsx)(ie,{open:a,onClose:function(){c(!1)}})]})},ue=n(5),se=function(){var e=Object(O.d)().inProgress;return Object(O.c)()?Object(I.jsx)(oe,{}):e!==ue.g.Startup&&e!==ue.g.HandleRedirect?Object(I.jsx)(U,{}):null},le=n(227),de=n(120),je=Object(le.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,"& a":{textDecoration:"none"}},bookingCell:{backgroundColor:de.a.A400,"& div":{display:"flex",flexDirection:"column",width:"100%"}}}})),be=function(){var e=je();return Object(I.jsx)("div",{className:e.root,children:Object(I.jsx)(T.a,{position:"static",children:Object(I.jsxs)(w.a,{children:[Object(I.jsx)(A.a,{className:e.title,children:Object(I.jsx)(S.a,{component:o.b,to:"/",color:"inherit",variant:"h6",children:"SF Booth Booking"})}),Object(I.jsx)(D,{}),Object(I.jsx)(se,{})]})})})},fe=function(e){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(be,{}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),e.children]})},he=n(25);function Oe(){var e=Object(O.d)().instance;return Object(r.useEffect)((function(){e.logoutRedirect({account:e.getActiveAccount(),onRedirectNavigate:function(){return!he.a.isInIframe()}})}),[e]),Object(I.jsx)("div",{children:"Logout"})}var me=n(224),pe=n(237),ve=n(246),xe=n(247),ge=n(248),ke=n(251),Ce=n(249),ye=n(250),Te=n(131),we=n.n(Te),Ae=n(132),Se=n.n(Ae),Ee=n(133),Ie=n.n(Ee),De=n(41),Re=n.n(De),Me=["#EF9A9A","#FFCC80","#FFF59D"],Be=function(e){var t=e.calendarService,n=e.bookClick,a=e.deleteEventClick,c=t.dates,i=t.boothData,o=t.calendarData,u=Object(r.useMemo)((function(){return c&&c.datesIndexes?c.datesIndexes[0].map((function(e){return{time:c.intervals[e],days:c.datesIndexes.map((function(t){var n=t[e];return{timeslot:n,start:c.intervals[n],end:c.intervals[n]+c.interval,available:i?i.available[n]:-1,event:o?o.filter((function(e){return e.id===o.intervals[n]})):[]}}))}})):[]}),[c,i,o]);return Object(I.jsx)(ve.a,{component:pe.a,children:Object(I.jsxs)(xe.a,{sx:{minWidth:250},size:"small",children:[Object(I.jsx)(ge.a,{children:Object(I.jsxs)(Ce.a,{children:[Object(I.jsx)(ye.a,{children:"Time"}),c.dates.map((function(e){return Object(I.jsx)(ye.a,{align:"center",children:Re.a.unix(e.noon).format("ddd, D MMM")},e.noon)}))]})}),Object(I.jsx)(ke.a,{children:u.map((function(e,t){var r=t%2===0?0:"1px solid #eee";return Object(I.jsxs)(Ce.a,{sx:{"td,th":{borderBottom:r,borderRight:"1px solid #eee"},"&:last-child td, &:last-child th":{borderBottom:0}},children:[Object(I.jsx)(ye.a,{component:"th",scope:"row",children:Re.a.unix(e.time).format("HH:mm")}),e.days.map((function(e){return Object(I.jsx)(ze,{day:e,bookClick:n,deleteEventClick:a},e.timeslot)}))]},e.time)}))})]})})},ze=function(e){var t=e.day,n=e.bookClick,a=e.deleteEventClick,c=Object(r.useState)("normal"),i=Object(E.a)(c,2),o=i[0],u=i[1],s=Object(r.useCallback)(function(){var e=Object(v.a)(p.a.mark((function e(t,r){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t,r);case 2:return a=e.sent,u("normal"),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n]),l=Object(r.useCallback)((function(){"normal"===o&&u("selected")}),[o]);return t.end<Date.now()/1e3?Object(I.jsx)(ye.a,{}):t.event&&t.event.length>0?Object(I.jsx)(Ne,{day:t,deleteEventClick:a}):"normal"===o?Object(I.jsx)(Le,{day:t,onClick:l}):Object(I.jsx)(Fe,{day:t,onCancel:function(){return u("normal")},bookClick:s,align:"center"})},Ne=function(e){var t=e.day,n=e.deleteEventClick,a=je(),c=Object(r.useState)(!1),i=Object(E.a)(c,2),o=i[0],u=i[1],s=Object(r.useState)(!1),l=Object(E.a)(s,2),d=l[0],j=l[1];return o?Object(I.jsx)(ye.a,{align:"center",className:a.bookingCell,children:Object(I.jsxs)("div",{children:[Object(I.jsxs)(R.a,{variant:"contained",color:"error",onClick:function(){j(!0),u(!1),n(t.event[0].id)},children:["Cancel ",t.event[0].subject]}),Object(I.jsx)(R.a,{variant:"outlined",onClick:function(){return u(!1)},children:"Leave as is"})]})}):Object(I.jsxs)(ye.a,{align:"center",onClick:function(){return u(!0)},children:[d&&"Cancelling ",t.event[0].subject]})},Le=function(e){var t,n=e.day,r=e.onClick,a=n.available>=Me.length?"#A5D6A7":Me[n.available];return t=0===n.available?we.a:n.available<=2?Se.a:Ie.a,Object(I.jsx)(ye.a,{sx:{backgroundColor:a},align:"center",onClick:r,children:Object(I.jsx)(t,{})})},Fe=function(e){var t=e.day,n=e.onCancel,a=e.bookClick,c=je(),i=Object(r.useState)(!1),o=Object(E.a)(i,2),u=o[0],s=o[1],l=Object(r.useCallback)((function(e){s(!0),a(t.start,e).then((function(e){return s(!1)}))}),[t,a]);return u?Object(I.jsx)(ye.a,{align:"center",className:c.bookingCell,children:"Sending Booking Request..."}):Object(I.jsx)(ye.a,{align:"center",className:c.bookingCell,children:Object(I.jsxs)("div",{children:[Object(I.jsx)(A.a,{children:"Book Booth"}),Object(I.jsx)(R.a,{variant:"outlined",onClick:function(){return l(30)},children:"30 min"}),Object(I.jsx)(R.a,{variant:"outlined",onClick:function(){return l(60)},children:"60 min"}),Object(I.jsx)(R.a,{variant:"outlined",onClick:function(){return l(90)},children:"90 min"}),Object(I.jsx)(R.a,{variant:"outlined",onClick:function(){return l(120)},children:"120 min"}),Object(I.jsx)(R.a,{variant:"contained",onClick:n,children:"Cancel"})]})})},Ye=function(){return Object(I.jsx)(A.a,{variant:"h6",children:"Authentication in progress..."})},He=function(e){var t=e.error;return Object(I.jsxs)(A.a,{variant:"h6",children:["An Error Occurred: ",t.errorCode]})},Ze=n(26),Ve=n(226),Pe=n(17),Ue=function(){var e=new Ve.a(Z);return!e.getActiveAccount()&&e.getAllAccounts().length>0&&e.setActiveAccount(e.getAllAccounts()[0]),e.enableAccountStorageEvents(),e.addEventCallback((function(t){if(t.eventType===Pe.a.LOGIN_SUCCESS&&t.payload.account){var n=t.payload.account;e.setActiveAccount(n)}})),e}(),Je=n(53),We=function(){var e=Object(v.a)(p.a.mark((function e(t,n){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe(t,n);case 2:return r=e.sent,e.next=5,r.json();case 5:r=e.sent,a=r.value;case 7:if(!r["@odata.nextLink"]){e.next=17;break}return e.next=10,qe(r["@odata.nextLink"]);case 10:return r=e.sent,e.next=13,r.json();case 13:r=e.sent,a.push.apply(a,Object(Ze.a)(r.value)),e.next=7;break;case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),qe=function(){var e=Object(v.a)(p.a.mark((function e(t,n){var r,a,c,i,o,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ue.getActiveAccount()){e.next=3;break}throw Error("No active account! Verify a user has been signed in and setActiveAccount has been called.");case 3:return e.next=5,Ue.acquireTokenSilent(Object(G.a)(Object(G.a)({},V),{},{account:r}));case 5:return a=e.sent,c=new Headers(null===n||void 0===n?void 0:n.headers),i="Bearer ".concat(a.accessToken),c.append("Authorization",i),o=Object(G.a)(Object(G.a)({method:"GET"},n),{},{headers:c}),u=t.startsWith("http")?t:"".concat(P).concat(t),e.abrupt("return",fetch(u,o).catch(Ge(Ue)));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ge=function(e){return function(t){if(!(t instanceof Je.a))throw t;e.acquireTokenRedirect(Object(G.a)(Object(G.a)({},V),{},{account:e.getActiveAccount()}))}},$e=n(134),_e=n.n($e),Ke=n(135),Qe=n.n(Ke),Xe="YYYY-MM-DDTHH:mmZ",et="YYYY-MM-DDTHH:mm",tt="Europe/London",nt=[1,2,3,4,5,6].map((function(e){return"zoombooth".concat(e,"@socialfinance.org.uk")})),rt=1800;Re.a.extend(_e.a),Re.a.extend(Qe.a);var at=function(e){var t=e.day();return 0===t?e.add(1,"day"):6===t?e.add(2,"day"):e},ct=function(e){var t=Object(G.a)({},e),n=t.value[0].availabilityView.split("");return t.occupied=n.map((function(e,n){return nt.reduce((function(e,r,a){return e+parseInt(t.value[a].availabilityView[n])}),0)})),t.available=n.map((function(e,n){return t.value.length-t.occupied[n]})),t},it=function(e){return e.map((function(e){return(e=Object(G.a)({},e)).booths=e.attendees.filter((function(e){return nt.indexOf(e.emailAddress.address.toLowerCase())>=0})),e.acceptedBooths=e.booths.filter((function(e){return e.status.response.toLowerCase().indexOf("accepted")>=0})),e}))},ot=function(e,t){var n=e.map((function(e){return(e=Object(G.a)({},e)).startTime=Re.a.tz(e.start.dateTime,e.start.timeZone).unix(),e.endTime=Re.a.tz(e.end.dateTime,e.end.timeZone).unix(),e.startIndex=Math.floor((e.startTime-t.startTime)/t.interval),e.endIndex=Math.ceil((e.endTime-t.startTime)/t.interval)-1,e}));return n.intervals=n.reduce((function(e,t){for(var n=t.startIndex;n<=t.endIndex;n++)e[n]=t.id;return e}),[]),n},ut=function(e){var t=e.startDate,n=e.days,a=Object(r.useState)({dates:[]}),c=Object(E.a)(a,2),i=c[0],o=c[1],u=st(Object(v.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.dates.length>0&&lt(i));case 1:case"end":return e.stop()}}),e)}))),[i]),s=Object(E.a)(u,2),l=s[0],d=s[1],j=st(Object(v.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.dates.length>0&&dt(i));case 1:case"end":return e.stop()}}),e)}))),[i]),b=Object(E.a)(j,2),f=b[0],h=b[1];return Object(r.useEffect)((function(){o(function(e,t){for(var n=[],r=Re()(e).hour(12).minute(0).second(0),a=t>0?t:1,c=0;c<a;c++)r=at(r),n.push({date:r.format("YYYY-MM-DD"),noon:r.hour(12).unix(),startTime:r.hour(8).unix(),endTime:r.hour(19).unix()}),r=r.add(1,"days");var i={dates:n,startTime:n[0].startTime,endTime:n[n.length-1].endTime,interval:rt};return i.intervalCount=(i.endTime-i.startTime)/rt,i.intervals=Array(Math.ceil(i.intervalCount)).fill(0).map((function(e,t){return i.startTime+t*rt})),i.datesIndexes=n.map((function(e){return i.intervals.map((function(t,n){return t>=e.startTime&&t<e.endTime?n:-1})).filter((function(e){return e>=0}))})),i}(t,n))}),[t,n]),Object(r.useEffect)((function(){d()}),[d]),Object(r.useEffect)((function(){h()}),[h]),Object(r.useMemo)((function(){return{dates:i,boothData:l,calendarData:f,refresh:function(){d(),h()}}}),[i,l,f,d,h])},st=function(e,t){var n=Object(r.useState)(null),a=Object(E.a)(n,2),c=a[0],i=a[1];return[c,Object(r.useCallback)((function(){e&&e().then((function(e){return i(e)}))}),Object(Ze.a)(t))]},lt=function(){var e=Object(v.a)(p.a.mark((function e(t){var n,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/me/calendar/getSchedule",n={"Content-Type":"application/json"},r={schedules:nt,startTime:{dateTime:Re.a.unix(t.startTime).tz(tt).format(et),timeZone:tt},endTime:{dateTime:Re.a.unix(t.endTime).tz(tt).format(et),timeZone:tt},availabilityViewInterval:Math.round(30)},e.next=5,qe("/me/calendar/getSchedule",{method:"POST",headers:n,body:JSON.stringify(r)});case 5:return a=e.sent,e.t0=ct,e.next=9,a.json();case 9:return e.t1=e.sent,e.t2=t,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=function(){var e=Object(v.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/me/calendar/calendarView?"+"startDateTime=".concat(encodeURIComponent(Re.a.unix(t.startTime).format(Xe)),"&")+"endDateTime=".concat(encodeURIComponent(Re.a.unix(t.endTime).format(Xe)),"&")+"$select=start,end,subject,attendees&$top=50",e.t0=it,e.next=4,We(n);case 4:return e.t1=e.sent,r=(0,e.t0)(e.t1).filter((function(e){return e.acceptedBooths.length>0})),e.abrupt("return",ot(r,t));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jt=function(){var e=Object(v.a)(p.a.mark((function e(t,n){var r,a,c,i,o,u,s,l,d,j,b,f,h,O;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Re.a.unix(t).tz(tt),a=r.add(n,"minutes"),c={"Content-Type":"application/json"},i={schedules:nt,startTime:{dateTime:r.format(et),timeZone:tt},endTime:{dateTime:a.format(et),timeZone:tt},availabilityViewInterval:n},e.next=6,qe("/me/calendar/getSchedule",{method:"POST",headers:c,body:JSON.stringify(i)});case 6:return o=e.sent,e.next=9,o.json();case 9:if(u=e.sent,0!==(s=u.value.filter((function(e){return"0"===e.availabilityView}))).length){e.next=13;break}return e.abrupt("return",{error:"nobooth"});case 13:return l=s[Math.floor(Math.random()*s.length)],d=l.scheduleId,j=d.split("@")[0],b=j.replace("zoombooth",""),f={subject:"Booth ".concat(b),start:{dateTime:r.format(Xe),timeZone:tt},end:{dateTime:r.add(n,"minutes").format(Xe),timeZone:tt},attendees:[{emailAddress:{address:l.scheduleId}}]},e.next=20,qe("/me/calendar/events",{method:"POST",headers:c,body:JSON.stringify(f)});case 20:return h=e.sent,e.next=23,h.json();case 23:return O=e.sent,e.abrupt("return",{boothId:d,boothName:j,boothNumber:b,bookingData:O});case 25:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),bt=function(){var e=Object(v.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/me/calendar/events/".concat(t),e.next=3,qe(n,{method:"DELETE"});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ft=function(e){var t=e.bookClick,n=Object(r.useState)(!1),a=Object(E.a)(n,2),c=a[0],i=a[1],o=Object(r.useState)(!0),u=Object(E.a)(o,2),s=u[0],l=u[1],d=Object(r.useCallback)(function(){var e=Object(v.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!1),e.next=3,t(Math.floor(Date.now()/1e3),n);case 3:i(!1),l(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(I.jsxs)(I.Fragment,{children:[c&&Object(I.jsxs)("div",{children:[Object(I.jsx)(R.a,{disabled:!s,variant:"outlined",color:"secondary",onClick:function(){return i(!1)},children:"Dismiss"}),Object(I.jsx)(R.a,{disabled:!s,variant:"outlined",onClick:function(){return d(30)},children:"30 min"}),Object(I.jsx)(R.a,{disabled:!s,variant:"outlined",onClick:function(){return d(60)},children:"60 min"}),Object(I.jsx)(R.a,{disabled:!s,variant:"outlined",onClick:function(){return d(90)},children:"90 min"}),Object(I.jsx)(R.a,{disabled:!s,variant:"outlined",onClick:function(){return d(120)},children:"120 min"})]}),!c&&Object(I.jsx)(R.a,{variant:"contained",color:"secondary",onClick:function(){return i(!0)},children:"Instant Book"})]})},ht=function(){var e=Object(d.c)("date",d.b),t=Object(E.a)(e,1)[0],n=Object(me.a)("(max-width:750px)"),a=ut({startDate:t,days:n?2:5});Object(r.useEffect)((function(){var e=setTimeout((function(){return a.refresh()}),15e3);return function(){clearTimeout(e)}}),[a]);var c=Object(r.useCallback)(function(){var e=Object(v.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt(t,n);case 2:return r=e.sent,setTimeout((function(){return a.refresh()}),3e3),setTimeout((function(){return a.refresh()}),6e3),setTimeout((function(){return a.refresh()}),9e3),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[a]),i=Object(r.useCallback)(function(){var e=Object(v.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bt(t);case 2:setTimeout((function(){return a.refresh()}),2e3),setTimeout((function(){return a.refresh()}),4e3),setTimeout((function(){return a.refresh()}),6e3);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a]);return Object(I.jsx)(pe.a,{children:a&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ft,{bookClick:c}),Object(I.jsx)(Be,{calendarService:a,bookClick:c,deleteEventClick:i}),Object(I.jsx)(R.a,{onClick:a.refresh,children:"Refresh"})]})})};function Ot(){var e=Object(G.a)({},V);return Object(I.jsx)(O.a,{interactionType:ue.h.Redirect,authenticationRequest:e,errorComponent:He,loadingComponent:Ye,children:Object(I.jsx)(ht,{})})}function mt(){return Object(I.jsxs)(u.c,{children:[Object(I.jsx)(u.a,{path:"/logout",children:Object(I.jsx)(Oe,{})}),Object(I.jsx)(u.a,{path:"/",children:Object(I.jsx)(Ot,{})})]})}var pt=function(e){var t=e.pca,n=Object(u.f)(),r=new y(n);return t.setNavigationClient(r),Object(I.jsx)(O.b,{instance:t,children:Object(I.jsx)(fe,{children:Object(I.jsx)(h.a,{container:!0,justifyContent:"center",children:Object(I.jsx)(mt,{})})})})};i.a.render(Object(I.jsxs)(a.a.StrictMode,{children:[Object(I.jsx)(s.a,{}),Object(I.jsx)(o.a,{children:Object(I.jsx)(l.a,{theme:f,children:Object(I.jsx)(d.a,{ReactRouterRoute:u.a,children:Object(I.jsx)(pt,{pca:Ue})})})})]}),document.getElementById("root"))}},[[163,1,2]]]);
//# sourceMappingURL=main.9e19bda8.chunk.js.map